<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mimicing React</title>
</head>
<body>
    <div id="btnparent">

    </div>
</body>
<script>
    // what does react do given component and state.It takes state and put it into component and again when we change the state it only changes the state not the component.


    // first we define our global state of the application.

    let state = {
        count: 0
    }

    function onBtnPress(){
        state.count = state.count + 1;
        buttonComponentReRender()
    }


    function buttonComponent(count){
        // it creates the component
        const button = document.createElement('button');
        button.innerHTML = `Counter ${count}`;
        button.setAttribute("onclick",'onBtnPress()');

        return button;
    }

    function buttonComponentReRender(){
        document.querySelector('#btnparent').innerHTML = "";
        const component = buttonComponent(state.count);
        document.querySelector('#btnparent').appendChild(component);
    }


    buttonComponentReRender();

    // onBtnPress() is updating the count variable and then calling the buttonComponentReRender().
    // buttonComponent(count) is creating the button component and returning the button.
    // buttonComponentReRender() is updating the STATE OF THE BUTTON COMPONENT(this is the actual react function which will be called automatically when we write the react code)

    //ORDER OF EXECUTION

    // starting point  = buttonComponentReRender() fetch the div with id and empty its innerhtml and then it is calling the buttonComponent function and providing state.count as argument.
    // buttonComponent() creates a new DOM element - button.Then it injects the "counter count_value" in button component - > setAttribute prop = "onclick" and its value is the function we made "onBtnPress()". and returning the button and then again control reaches to buttonComponentReRender() and it puts the button in the component variable and append it in the div.
    //when we click the btn counter will start increasing by calling onBtnPress() and inside it state.count variable's value is updating and then it is calling buttonComponentReRender() function and then again all the stuff discussed above is done.

    // this is how we mimicing the react.


</script>
</html>